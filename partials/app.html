<div id="response" ng-cloak ng-init="init()" class="device-list">
  <z-wampum-belt main="main"></z-wampum-belt>
  
 <!-- <ng-include onload="breadcrumbs = main.breadcrumbs" src="'partials/header.html'" ></ng-include> -->
  
<div id="header" class="pure-g">
  <div class="pure-u-2-3 breadcrumbs">
    <div class="content">
    <ul>
      <li><a href="/index.html">Projects</a></li>
      <li ng-repeat="link in main.breadcrumbs">
              /  <a ng-href="#/entity?url={{ link.href | encodeURIComponent }}" class="entity-link">{{ link.text }}</a>
      </li>
    </ul>
    </div>
  </div>
    
  <div class="pure-u-1-3 logo">
    <div class="content">
      <a href="index.html"><img src="images/zetta-logo_sm.png"/></a>
    </div>
  </div>
</div>
  
  
  <div id="devices_container">
  <div id="devices" ng-show="main.entities.length" class="">
    <div class="row">
    <div class="device" ng-repeat="entity in main.entities">
        <!-- Self link for state & actions -->    
        <div class="characteristic self" id="{{entity.heading}}">
            <div class="content">
              <div class="name" ng-class="">
                <i class="fa fa-cog h_277"></i>
                <a ng-href="#/entity?url={{ entity.selfLink.href | encodeURIComponent }}">{{entity.heading}}</a>
              </div>
              <div class="vis">
                <z-dna-strip entity="entity"></z-dna-strip>
              </div>
              <h1>{{entity.raw.state}}<span class="units"></span> </h1>

              

              <!-- 
              <div class="actions">
                <button class="pure-button pure-button-primary">off</button>
                <button class="pure-button">toggle</button>

                <div ng-show="entity.href">
                    <button class="btn btn-default btn-primary" ng-click="go(entity.href)">Go</button>
                </div>
              </div>
              -->

            </div><!-- /.content -->
          </div>
            
          <!-- all other characteristic data for device -->
          <div class="characteristic {{ stream.name }}" ng-repeat="stream in entity.streams">
            <div class="content">
              <div class="name">{{ stream.name }} <i class="fa fa-circle h_{{ stream.data.slice(-1)[0][2] }}" ng-class=" "></i>
              </div>
              <h1>{{ stream.data.slice(-1)[0][1].toFixed(3) }}<span class="units"></span></h1>

              <div class="vis">

        <!--
                <z-dna-strip entity="entity"></z-dna-strip>
        -->
                <nvd3-sparkline-chart
                  data="stream.data"
                  id="{{ stream.name }}"
                  x="stream.xFunction()"
                  y="stream.yFunction()",
                  xTickFormat="stream.xTickFunction"
                  rightalignValue="true"
                  width="285"
                  height="60"
                                      >
                <svg></svg>
                </nvd3-sparkline-chart>

              </div>

              <!-- 
              <div class="actions">
                <button class="pure-button pure-button-primary">off</button>
                <button class="pure-button">toggle</button>

                <div ng-show="entity.href">
                    <button class="btn btn-default btn-primary" ng-click="go(entity.href)">Go</button>
                </div>
              </div>
              -->

            </div><!-- /.content -->
          </div><!-- characteristic repeater -->
      </div><!-- device repeater -->
      </div><!-- row -->
    </div>
  </div><!-- devices container -->
  
  </div>  

  <ng-include src="'partials/footer.html'"></ng-include>

</div>

