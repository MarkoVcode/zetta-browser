<!doctype html>
<html lang="en" ng-app="zetta">
  <head>
    <title>Zetta Browser</title>
    <meta charset="utf-8" />
    <meta name="fragment" content="!" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    
    <link rel="stylesheet" type="text/css" href="styles/zetta.css" />
    <script src="scripts/zetta.js"></script>

  </head>
  <body>

    <div ui-view/>
    
    <script>

        //Those canvas elements ain't resizing themselves.
      
	    $(document).ready(function(){
          $(window).on('load resize', function(){
            fit_vis()
          })
          
          var l = window.location.href;
          var check = window.setInterval(function(){
            if(l != window.location.href){
              l = window.location.href;
              fit_vis();
            }
          }, 100);
          
		});
	   
        function fit_vis(){
          //console.log('fit vis!');
          
          dna = $('.vis .dnastrip');
          dna.each(function(){
            
            var c = $(this).find('canvas')
            c[0].width = dna.width();
            c[0].height = c.parent().attr('height');
          });
          
          //width(vis.width());
          //vis.find('svg').width(vis.width());
          
        }
	</script>

  </body>
</html>
