
<form class="pure-form pure-form-stacked">
  <fieldset>
    <legend># {{ action.name }}</legend>
    <label ng-repeat-start="field in action.fields" for="{{ action.name + field.name }}" class="{{ field.type }}"></label>
    
    <ng-switch on="field.type">
      <div ng-switch-when="radio" ng-if="!action.renderOptionsAsButtons">
        <!-- regular radios -->
        <label class="pure-radio" ng-repeat="val in action.radioField.value" for="{{ action.name + field.name }}_{{ $index }}" >
        <input id="{{ action.name + field.name }}_{{ $index }}" type="radio" name="{{ action.name + field.name }}" value="{{ val.value }}"/>
          {{ val.value }}
        </label> 
      
      </div>
      
      <div ng-switch-when="radio" ng-if="action.renderOptionsAsButtons">
            <button ng-repeat="val in action.radioField.value" class="pure-button {{ action.name + '-button' }}" ng-click="val.execute()">{{ val.title || val.value}}</button>
      </div>

      
      <textarea ng-switch-when="textarea" name="{{ field.name }}" value="{{ field.value }}" 
              id="{{ action.name + field.name }}" ng-model="field.value" ></textarea>
      
      <input placeholder="{{ field.name }}" type="{{ field.type }}" class="" name="{{ field.name }}" value="{{ field.value }}" 
              id="{{ action.name + field.name }}" ng-model="field.value" ng-switch-default/>
    </ng-switch>
    <span ng-repeat-end></span>
    
    <button class="pure-button {{ action.name + '-button' }}" ng-click="execute()" ng-if="!action.renderOptionsAsButtons">{{ action.name }}</button>
  </fieldset>
 
</form>

<!--
 <div class="field pure-u-1 pure-u-lg-3-4" ng-repeat="field in action.fields">
    <div class="field" >
          <input placeholder="{{ field.name }}" type="{{ field.type }}" class="pure-u-1" name="{{ field.name }}" value="{{ field.value }}" 
            id="{{ action.name + field.name }}" ng-model="field.value"/>
    </div>
  </div>
  <div class="submit pure-u-1 pure-u-lg-1-4">
    <button class="pure-button {{ action.name + '-button' }}" ng-click="execute()">{{ action.name }}</button>
  </div>
-->
